<message>
<subject>
<text_normal> 

^ re : [ autopackage ] libprefix - all the way 
</text_normal>
</subject>
<from> com </from>
<to> org </to>
<content-type> text/plain </content-type>
<date> 03 may 2003 11:13:47 +0100 </date>
<message_body>
<text_embedded> 

^ &name . 
^ it 's actually working now , save the below issue ; now i 'm just debating a few things with myself - for example , since the lib does almost the exact same thing as pkg-config , except for runtime instead of compile-time , should i have the files be compatible ? 
^ no point in having &num files that both say the exact same thing ... of course , pkg-config uses shell escapes and such , which i do n't want to have to add support for in a small lib like this ... 
</text_embedded>
<text_normal> 

^ i do n't think that 'd be a smart move . 
^ &name scripts check for the existance of pkgconfig files as proof the developer libraries are installed - if we start creating .pc files on binary installations : 
^ &char ) they will get overwritten when a devel package is installed &char ) configure scripts will assume the devel files are there when they are n't. 
^ you 're right , having many files is disagreeable , which is &num reason i favour runtime detection . 
^ if overrides are needed , just do what the current libprefixdb does and check in /var / packages/ $ name / prefixes , which is keyvalue , like 
^ prefix / usr / local sysconfdir / etc 
^ and so on . 
</text_normal>
<text_embedded> 

^ i have the " look up executable 's path " working tho . 
^ it still seems way too flaky to me , but &name well . 
^ i have to tweak the path guessing a bit tho , so it knows if a binary is in prefix /usr , that the conf dir will /etc and not /usr / etc , and same for /var . 
^ ( i hate special exceptions to rules . 
^ &smiley 
</text_embedded>
<text_normal> 

^ that 's &name &smiley 
</text_normal>
<text_embedded> 

^ it also does n't use the autopackage package &name 's yet , just a basic pkgname and pkgver , that could probably be cleaned up . 
</text_embedded>
<text_normal> 

^ root names are basically opaque , should n't need any special code . 
</text_normal>
<text_embedded> 

^ speaking of which , do you think it 's necessary to have a search path that looks for both pkgname-pkgver and just pkgname ? 
^ i.e. , if pkgnamefoobar , and &name , to look for both a /prefix / path / files / foobar-1.0 , and if that does n't exist , then look for /prefix / path / files / foobar ? 
^ it _sounds_ nice and flexible , but i ca n't think of any real world uses for it - i have the code for it already , so i 'm curious if i should just keep it or toss it ... 
</text_embedded>
<text_normal> 

^ why are we checking if files exist ? 
^ the library deals with directories right ? 
</text_normal>
<text_embedded> 

^ do you guys want me to just post the tarball here , or what ? 
^ i 'll be happy maintaining such the lib if wanted . 
^ once it 's initially ready it should n't need _so_ much hacking that i do n't have time . 
^ 
^, 
^ 
</text_embedded>
<text_normal> 

^ yeah , a tarball here would be fine , or join &name and have a chat to us there ( though it 's unusually quiet tonight for some reason ) . 
</text_normal>
<text_embedded> 

^ &name , that 's a lot better then . 
^ i 'll have to look into the map list format and see if i can get that working . 
</text_embedded>
<text_normal> 

^ to get an example run cat /proc / self / maps 
^ as you can see it just shows stuff loaded using mmap . 
^ you can get the address of a function easily enough 
</text_normal>
<text_embedded>

<text_embedded> 

^ linker structures to no avail . 
^ at some point when i learn the art of glibc hacking if &name has n't already done it i 'll add dlinfo ( ) which lets us get the origin as defined by &name , which should be good enough . 
</text_embedded>

^ that would make things considerably easier . 
^ 
^, 
^ 
<text_embedded>

<text_embedded> 

^ well , if autopackage is n't flexible enough ( or libprefix , i should say - i fully have faith autopackage itself will be ) an app will only be usable on &num vendor of &name . 
^ just assuming everything works like redhat or it 's knock-offs is a problem with &name 's, and one that 's honestly not easily fixable ... 
</text_embedded>

^ that 'll change with time . 
^ and packaging is a large part of the reason most commercial vendors only support &num or &num distros i think . 
</text_embedded>

^ &name . 
^ &char flexible libprefix &char / an awesome packager like autopackage , sanctioned by the &name and major distros , would work wonders . 
^ ( * cough * and i 'm sure &name vendors would appreciate it too &smiley * cough * ) 
<text_embedded> 

^ &name mailing list &email 
</text_embedded>

</text_embedded>
<text_normal> 

^ &name mailing list &email 
</text_normal>
</message_body>
</message>